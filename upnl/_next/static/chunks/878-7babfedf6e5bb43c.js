"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{4878:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(1248),u=t(1266),i=t(6189);let a=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}),s={dedupe:!0};i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_});let o=(0,i.s6)((e,r,t)=>{let{cache:o,compare:l,suspense:c,fallbackData:d,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:E,refreshWhenHidden:R,refreshWhenOffline:h,keepPreviousData:w}=t,[V,_,k,C]=i.DY.get(o),[T,L]=(0,i.qC)(e),b=(0,n.useRef)(!1),m=(0,n.useRef)(!1),M=(0,n.useRef)(T),p=(0,n.useRef)(r),O=(0,n.useRef)(t),v=()=>O.current,N=()=>v().isVisible()&&v().isOnline(),[y,S,I,P]=(0,i.JN)(o,T),D=(0,n.useRef)({}).current,j=(0,i.o8)(d)?t.fallback[T]:d,A=(e,r)=>{for(let t in D)if("data"===t){if(!l(e[t],r[t])&&(!(0,i.o8)(e[t])||!l(B,r[t])))return!1}else if(r[t]!==e[t])return!1;return!0},F=(0,n.useMemo)(()=>{let e=!!T&&!!r&&((0,i.o8)(f)?!v().isPaused()&&!c&&(!!(0,i.o8)(g)||g):f),t=r=>{let t=(0,i.PM)(r);return(delete t._k,e)?{isValidating:!0,isLoading:!0,...t}:t},n=y(),u=P(),a=t(n),s=n===u?a:t(u),o=a;return[()=>{let e=t(y());return A(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]},[o,T]),q=(0,u.useSyncExternalStore)((0,n.useCallback)(e=>I(T,(r,t)=>{A(t,r)||e()}),[o,T]),F[0],F[1]),x=!b.current,J=V[T]&&V[T].length>0,U=q.data,W=(0,i.o8)(U)?j:U,Y=q.error,$=(0,n.useRef)(W),B=w?(0,i.o8)(U)?$.current:U:W,Z=(!J||!!(0,i.o8)(Y))&&(x&&!(0,i.o8)(f)?f:!v().isPaused()&&(c?!(0,i.o8)(W)&&g:(0,i.o8)(W)||g)),z=!!(T&&r&&x&&Z),G=(0,i.o8)(q.isValidating)?z:q.isValidating,H=(0,i.o8)(q.isLoading)?z:q.isLoading,K=(0,n.useCallback)(async e=>{let r,n;let u=p.current;if(!T||!u||m.current||v().isPaused())return!1;let a=!0,s=e||{},o=!k[T]||!s.dedupe,c=()=>i.w6?!m.current&&T===M.current&&b.current:T===M.current,d={isValidating:!1,isLoading:!1},f=()=>{S(d)},g=()=>{let e=k[T];e&&e[1]===n&&delete k[T]},E={isValidating:!0};(0,i.o8)(y().data)&&(E.isLoading=!0);try{if(o&&(S(E),t.loadingTimeout&&(0,i.o8)(y().data)&&setTimeout(()=>{a&&c()&&v().onLoadingSlow(T,t)},t.loadingTimeout),k[T]=[u(L),(0,i.u3)()]),[r,n]=k[T],r=await r,o&&setTimeout(g,t.dedupingInterval),!k[T]||k[T][1]!==n)return o&&c()&&v().onDiscarded(T),!1;d.error=i.i_;let e=_[T];if(!(0,i.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),o&&c()&&v().onDiscarded(T),!1;let s=y().data;d.data=l(s,r)?s:r,o&&c()&&v().onSuccess(r,T,t)}catch(t){g();let e=v(),{shouldRetryOnError:r}=e;!e.isPaused()&&(d.error=t,o&&c()&&(e.onError(t,T,e),(!0===r||(0,i.mf)(r)&&r(t))&&(!v().revalidateOnFocus||!v().revalidateOnReconnect||N())&&e.onErrorRetry(t,T,e,e=>{let r=V[T];r&&r[0]&&r[0](i.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0},[T,o]),Q=(0,n.useCallback)((...e)=>(0,i.BN)(o,M.current,...e),[]);if((0,i.LI)(()=>{p.current=r,O.current=t,(0,i.o8)(U)||($.current=U)}),(0,i.LI)(()=>{if(!T)return;let e=K.bind(i.i_,s),r=0,t=(0,i.ko)(T,V,(t,n={})=>{if(t==i.sj.FOCUS_EVENT){let t=Date.now();v().revalidateOnFocus&&t>r&&N()&&(r=t+v().focusThrottleInterval,e())}else if(t==i.sj.RECONNECT_EVENT)v().revalidateOnReconnect&&N()&&e();else if(t==i.sj.MUTATE_EVENT)return K();else if(t==i.sj.ERROR_REVALIDATE_EVENT)return K(n)});return m.current=!1,M.current=T,b.current=!0,S({_k:L}),Z&&((0,i.o8)(W)||i.W6?e():(0,i.kw)(e)),()=>{m.current=!0,t()}},[T]),(0,i.LI)(()=>{let e;function r(){let r=(0,i.mf)(E)?E(y().data):E;r&&-1!==e&&(e=setTimeout(t,r))}function t(){!y().error&&(R||v().isVisible())&&(h||v().isOnline())?K(s).then(r):r()}return r(),()=>{e&&(clearTimeout(e),e=-1)}},[E,R,h,T]),(0,n.useDebugValue)(B),c&&(0,i.o8)(W)&&T){if(!i.w6&&i.W6)throw Error("Fallback data is required when using suspense in SSR.");p.current=r,O.current=t,m.current=!1;let e=C[T];if((0,i.o8)(e)||a(Q(e)),(0,i.o8)(Y)){let e=K(s);(0,i.o8)(B)||(e.status="fulfilled",e.value=!0),a(e)}else throw Y}return{mutate:Q,get data(){return D.data=!0,B},get error(){return D.error=!0,Y},get isValidating(){return D.isValidating=!0,G},get isLoading(){return D.isLoading=!0,H}}}),l=i.w6?e=>{e()}:n.startTransition,c=e=>{let[,r]=(0,n.useState)({}),t=(0,n.useRef)(!1),u=(0,n.useRef)(e),a=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),s=(0,n.useCallback)(e=>{let n=!1,i=u.current;for(let r in e)i[r]!==e[r]&&(i[r]=e[r],a.current[r]&&(n=!0));n&&!t.current&&r({})},[]);return(0,i.LI)(()=>(t.current=!1,()=>{t.current=!0})),[u,a.current,s]},d=(0,i.xD)(o,()=>(e,r,t={})=>{let{mutate:u}=(0,i.kY)(),a=(0,n.useRef)(e),s=(0,n.useRef)(r),o=(0,n.useRef)(t),d=(0,n.useRef)(0),[f,g,E]=c({data:i.i_,error:i.i_,isMutating:!1}),R=f.current,h=(0,n.useCallback)(async(e,r)=>{let[t,n]=(0,i.qC)(a.current);if(!s.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!t)throw Error("Can’t trigger the mutation: missing key.");let c=(0,i.PM)((0,i.PM)({populateCache:!1,throwOnError:!0},o.current),r),f=(0,i.u3)();d.current=f,E({isMutating:!0});try{let r=await u(t,s.current(n,{arg:e}),(0,i.PM)(c,{throwOnError:!0}));return d.current<=f&&(l(()=>E({data:r,isMutating:!1,error:void 0})),null==c.onSuccess||c.onSuccess.call(c,r,t,c)),r}catch(e){if(d.current<=f&&(l(()=>E({error:e,isMutating:!1})),null==c.onError||c.onError.call(c,e,t,c),c.throwOnError))throw e}},[]),w=(0,n.useCallback)(()=>{d.current=(0,i.u3)(),E({data:i.i_,error:i.i_,isMutating:!1})},[]);return(0,i.LI)(()=>{a.current=e,s.current=r,o.current=t}),{trigger:h,reset:w,get data(){return g.data=!0,R.data},get error(){return g.error=!0,R.error},get isMutating(){return g.isMutating=!0,R.isMutating}}})}}]);